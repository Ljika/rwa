<!-- Loading State -->
<div *ngIf="loading" class="loading-state">
  <p>Učitavanje doktora...</p>
</div>

<!-- Empty State -->
<div *ngIf="!loading && doctors.length === 0" class="empty-state">
  <p>Nema registrovanih doktora.</p>
</div>

<!-- Doctors Cards Grid -->
<div *ngIf="!loading && doctors.length > 0" class="doctors-cards-grid">
  <div *ngFor="let doctor of doctors" class="card doctor-card-item">
    <div class="card-header card-header-info">
      <h4 class="card-title">
        <i class="material-icons">medical_services</i>
        {{ doctor.firstName }} {{ doctor.lastName }}
      </h4>
      <p class="card-category" *ngIf="doctor.specialization">
        {{ doctor.specialization }}
      </p>
    </div>
    <div class="card-body">
      <div class="info-row">
        <span class="label">Email:</span>
        <span class="value">{{ doctor.email }}</span>
      </div>
      <div class="info-row" *ngIf="doctor.phoneNumber">
        <span class="label">Telefon:</span>
        <span class="value">{{ doctor.phoneNumber }}</span>
      </div>
      
      <div class="doctor-actions">
        <button class="btn-action btn-details-card" (click)="onToggleDetails(doctor.id)">
          <i class="material-icons">{{ expandedDoctorId === doctor.id ? 'expand_less' : 'expand_more' }}</i>
          {{ expandedDoctorId === doctor.id ? 'Sakrij' : 'Detalji' }}
        </button>
        <button class="btn-action btn-edit-card" (click)="onEdit(doctor)">
          <i class="material-icons">edit</i>
          Izmeni
        </button>
        <button class="btn-action btn-delete-card" (click)="onDelete(doctor.id)">
          <i class="material-icons">delete</i>
          Obriši
        </button>
      </div>

      <!-- Expanded Details Panel -->
      <div *ngIf="expandedDoctorId === doctor.id" class="doctor-details-panel">
        <div class="details-actions">
          <button class="btn-action-detail" (click)="onViewPatients(doctor.id)">
            <i class="material-icons">people</i>
            Pacijenti
          </button>
          <button class="btn-action-detail" (click)="onAddSchedule(doctor.id)">
            <i class="material-icons">add_circle</i>
            Dodaj Smene
          </button>
          <button class="btn-action-detail" (click)="onViewSchedule(doctor.id)">
            <i class="material-icons">calendar_today</i>
            Prikaži Smene
          </button>
        </div>
      </div>
    </div>
  </div>
</div>
